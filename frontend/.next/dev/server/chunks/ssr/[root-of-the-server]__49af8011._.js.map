{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/rafifwildan/Developer/workabroadly-app/frontend/components/chat/ChatSidebar.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport Link from \"next/link\"\nimport Image from \"next/image\"\n\ninterface ChatSession {\n  id: string\n  title: string\n  timestamp: string\n}\n\ninterface ChatSidebarProps {\n  isOpen?: boolean\n  onClose?: () => void\n  onRoleChange?: (role: string) => void\n}\n\nexport default function ChatSidebar({ isOpen = true, onClose, onRoleChange }: ChatSidebarProps) {\n  const [sessions, setSessions] = useState<ChatSession[]>([\n    { id: \"1\", title: \"Conversation about visa requirements\", timestamp: \"2 hours ago\" },\n    { id: \"2\", title: \"Interview preparation tips\", timestamp: \"1 day ago\" },\n    { id: \"3\", title: \"Document checklist for Japan\", timestamp: \"3 days ago\" },\n  ])\n  const [activeSession, setActiveSession] = useState<string>(\"1\")\n  const [selectedRole, setSelectedRole] = useState<string>(\"default\")\n\n  const handleNewSession = () => {\n    const newSession: ChatSession = {\n      id: Date.now().toString(),\n      title: \"New conversation\",\n      timestamp: \"Just now\",\n    }\n    setSessions([newSession, ...sessions])\n    setActiveSession(newSession.id)\n  }\n\n  const handleRoleChange = (role: string) => {\n    setSelectedRole(role)\n    if (onRoleChange) {\n      onRoleChange(role)\n    }\n  }\n\n  const roles = [\n    { id: \"default\", name: \"Expat AI\", icon: \"ðŸ¤–\", description: \"Asisten komprehensif untuk bekerja di luar negeri\" },\n  ]\n\n  return (\n    <>\n      {/* Mobile backdrop */}\n      {isOpen && <div className=\"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 lg:hidden\" onClick={onClose} />}\n\n      {/* Sidebar */}\n      <aside\n        className={`\n          fixed lg:static inset-y-0 left-0 z-50\n          w-60 lg:w-64 h-full\n          bg-muted border-r border-border\n          flex flex-col\n          transition-transform duration-300\n          ${isOpen ? \"translate-x-0\" : \"-translate-x-full lg:translate-x-0\"}\n        `}\n      >\n        <div className=\"p-4 border-b border-border\">\n          <Link href=\"/dashboard\">\n            <Image src=\"/images/logo.png\" alt=\"WorkAbroadly\" width={160} height={36} className=\"h-9 w-auto\" />\n          </Link>\n        </div>\n\n        {/* New Session Button */}\n        <div className=\"p-4\">\n          <button\n            onClick={handleNewSession}\n            className=\"soft-button w-full text-white p-3 text-center font-medium flex items-center justify-center gap-2\"\n          >\n            <span className=\"text-xl\">+</span>\n            <span>Session Baru</span>\n          </button>\n        </div>\n\n        <div className=\"px-4 pb-4\">\n          <h3 className=\"text-xs text-primary uppercase mb-2 font-medium\">AI Persona</h3>\n          <div className=\"space-y-2\">\n            {roles.map((role) => (\n              <button\n                key={role.id}\n                onClick={() => handleRoleChange(role.id)}\n                className={`\n                  w-full text-left rounded-lg p-3 transition-all\n                  hover:bg-card cursor-pointer\n                  ${selectedRole === role.id ? \"bg-card border-l-4 border-primary\" : \"bg-muted/50\"}\n                `}\n              >\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-xl\">{role.icon}</span>\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm text-foreground font-medium\">{role.name}</p>\n                    <p className=\"text-xs text-muted-foreground\">{role.description}</p>\n                  </div>\n                </div>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Chat History */}\n        <div className=\"flex-1 overflow-y-auto\">\n          <h3 className=\"text-xs text-primary uppercase px-4 mb-2 font-medium\">History</h3>\n\n          {sessions.length === 0 ? (\n            <div className=\"text-center p-4\">\n              <div className=\"text-4xl opacity-40 mb-2\">ðŸ’¬</div>\n              <p className=\"text-sm text-muted-foreground italic\">Belum ada riwayat chat</p>\n            </div>\n          ) : (\n            <div className=\"space-y-2\">\n              {sessions.map((session) => (\n                <button\n                  key={session.id}\n                  onClick={() => setActiveSession(session.id)}\n                  className={`\n                    w-full text-left rounded-lg p-3 mx-2 transition-all\n                    hover:bg-card cursor-pointer\n                    ${activeSession === session.id ? \"bg-card border-l-4 border-primary\" : \"\"}\n                  `}\n                >\n                  <p className=\"text-sm text-foreground font-medium truncate\">{session.title}</p>\n                  <p className=\"text-xs text-muted-foreground mt-1\">{session.timestamp}</p>\n                </button>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* User Profile */}\n        <div className=\"border-t border-border p-4 bg-muted\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"rounded-full bg-primary/20 text-primary w-10 h-10 flex items-center justify-center font-bold\">\n              U\n            </div>\n            <div className=\"flex-1\">\n              <p className=\"text-sm font-medium text-foreground\">User</p>\n              <Link\n                href=\"/logout\"\n                className=\"text-xs text-destructive hover:text-destructive/80 hover:underline cursor-pointer flex items-center gap-1\"\n              >\n                <span>ðŸšª</span>\n                <span>Keluar</span>\n              </Link>\n            </div>\n          </div>\n        </div>\n      </aside>\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAkBe,SAAS,YAAY,EAAE,SAAS,IAAI,EAAE,OAAO,EAAE,YAAY,EAAoB;IAC5F,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAgB;QACtD;YAAE,IAAI;YAAK,OAAO;YAAwC,WAAW;QAAc;QACnF;YAAE,IAAI;YAAK,OAAO;YAA8B,WAAW;QAAY;QACvE;YAAE,IAAI;YAAK,OAAO;YAAgC,WAAW;QAAa;KAC3E;IACD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAS;IAC3D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAS;IAEzD,MAAM,mBAAmB;QACvB,MAAM,aAA0B;YAC9B,IAAI,KAAK,GAAG,GAAG,QAAQ;YACvB,OAAO;YACP,WAAW;QACb;QACA,YAAY;YAAC;eAAe;SAAS;QACrC,iBAAiB,WAAW,EAAE;IAChC;IAEA,MAAM,mBAAmB,CAAC;QACxB,gBAAgB;QAChB,IAAI,cAAc;YAChB,aAAa;QACf;IACF;IAEA,MAAM,QAAQ;QACZ;YAAE,IAAI;YAAW,MAAM;YAAY,MAAM;YAAM,aAAa;QAAoD;KACjH;IAED,qBACE;;YAEG,wBAAU,8OAAC;gBAAI,WAAU;gBAA4D,SAAS;;;;;;0BAG/F,8OAAC;gBACC,WAAW,CAAC;;;;;;UAMV,EAAE,SAAS,kBAAkB,qCAAqC;QACpE,CAAC;;kCAED,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,uKAAI;4BAAC,MAAK;sCACT,cAAA,8OAAC,wIAAK;gCAAC,KAAI;gCAAmB,KAAI;gCAAe,OAAO;gCAAK,QAAQ;gCAAI,WAAU;;;;;;;;;;;;;;;;kCAKvF,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BACC,SAAS;4BACT,WAAU;;8CAEV,8OAAC;oCAAK,WAAU;8CAAU;;;;;;8CAC1B,8OAAC;8CAAK;;;;;;;;;;;;;;;;;kCAIV,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAkD;;;;;;0CAChE,8OAAC;gCAAI,WAAU;0CACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;wCAEC,SAAS,IAAM,iBAAiB,KAAK,EAAE;wCACvC,WAAW,CAAC;;;kBAGV,EAAE,iBAAiB,KAAK,EAAE,GAAG,sCAAsC,cAAc;gBACnF,CAAC;kDAED,cAAA,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAK,WAAU;8DAAW,KAAK,IAAI;;;;;;8DACpC,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAE,WAAU;sEAAuC,KAAK,IAAI;;;;;;sEAC7D,8OAAC;4DAAE,WAAU;sEAAiC,KAAK,WAAW;;;;;;;;;;;;;;;;;;uCAZ7D,KAAK,EAAE;;;;;;;;;;;;;;;;kCAqBpB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAuD;;;;;;4BAEpE,SAAS,MAAM,KAAK,kBACnB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;kDAA2B;;;;;;kDAC1C,8OAAC;wCAAE,WAAU;kDAAuC;;;;;;;;;;;qDAGtD,8OAAC;gCAAI,WAAU;0CACZ,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC;wCAEC,SAAS,IAAM,iBAAiB,QAAQ,EAAE;wCAC1C,WAAW,CAAC;;;oBAGV,EAAE,kBAAkB,QAAQ,EAAE,GAAG,sCAAsC,GAAG;kBAC5E,CAAC;;0DAED,8OAAC;gDAAE,WAAU;0DAAgD,QAAQ,KAAK;;;;;;0DAC1E,8OAAC;gDAAE,WAAU;0DAAsC,QAAQ,SAAS;;;;;;;uCAT/D,QAAQ,EAAE;;;;;;;;;;;;;;;;kCAiBzB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CAA+F;;;;;;8CAG9G,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAAsC;;;;;;sDACnD,8OAAC,uKAAI;4CACH,MAAK;4CACL,WAAU;;8DAEV,8OAAC;8DAAK;;;;;;8DACN,8OAAC;8DAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQtB","debugId":null}},
    {"offset": {"line": 437, "column": 0}, "map": {"version":3,"sources":["file:///Users/rafifwildan/Developer/workabroadly-app/frontend/components/chat/MessageBubble.tsx"],"sourcesContent":["\"use client\"\n\nimport ReactMarkdown from \"react-markdown\"\n\ninterface Message {\n  id: string\n  content: string\n  sender: \"user\" | \"ai\"\n  timestamp: string\n}\n\ninterface MessageBubbleProps {\n  message: Message\n}\n\nexport default function MessageBubble({ message }: MessageBubbleProps) {\n  const isUser = message.sender === \"user\"\n\n  return (\n    <div className={`flex mb-4 animate-fade-in ${isUser ? \"justify-end\" : \"justify-start\"}`}>\n      {/* AI Avatar */}\n      {!isUser && (\n        <div className=\"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center mr-2 flex-shrink-0\">\n          <span className=\"text-sm\">ðŸ¤–</span>\n        </div>\n      )}\n\n      <div className={`flex flex-col ${isUser ? \"items-end\" : \"items-start\"}`}>\n        {/* Message Bubble */}\n        <div\n          className={`\n            px-5 py-3.5 max-w-[70%] lg:max-w-xl\n            ${\n              isUser\n                ? \"bg-primary text-primary-foreground rounded-2xl rounded-br-sm shadow-md\"\n                : \"bg-muted text-foreground rounded-2xl rounded-bl-sm shadow-sm\"\n            }\n            text-sm leading-relaxed\n          `}\n        >\n          {isUser ? (\n            <div className=\"whitespace-pre-wrap\">{message.content}</div>\n          ) : (\n            <ReactMarkdown\n              className=\"prose prose-sm max-w-none prose-headings:mt-3 prose-headings:mb-2 prose-p:my-2 prose-ul:my-2 prose-ol:my-2 prose-li:my-0.5\"\n              components={{\n                h1: ({ children }) => <h1 className=\"text-xl font-bold mb-2\">{children}</h1>,\n                h2: ({ children }) => <h2 className=\"text-lg font-bold mb-2\">{children}</h2>,\n                h3: ({ children }) => <h3 className=\"text-base font-semibold mb-1\">{children}</h3>,\n                strong: ({ children }) => <strong className=\"font-bold\">{children}</strong>,\n                em: ({ children }) => <em className=\"italic\">{children}</em>,\n                ul: ({ children }) => <ul className=\"list-disc list-inside space-y-1 my-2\">{children}</ul>,\n                ol: ({ children }) => <ol className=\"list-decimal list-inside space-y-1 my-2\">{children}</ol>,\n                li: ({ children }) => <li className=\"ml-2\">{children}</li>,\n                p: ({ children }) => <p className=\"my-2 leading-relaxed\">{children}</p>,\n                code: ({ children }) => (\n                  <code className=\"bg-primary/10 px-1.5 py-0.5 rounded text-xs font-mono\">{children}</code>\n                ),\n                pre: ({ children }) => (\n                  <pre className=\"bg-primary/10 p-3 rounded-lg overflow-x-auto my-2\">{children}</pre>\n                ),\n              }}\n            >\n              {message.content}\n            </ReactMarkdown>\n          )}\n        </div>\n\n        {/* Timestamp */}\n        <span className={`text-xs mt-1 ${isUser ? \"text-primary/60\" : \"text-muted-foreground\"}`}>\n          {message.timestamp}\n        </span>\n      </div>\n    </div>\n  )\n}\n\nexport function TypingIndicator() {\n  return (\n    <div className=\"flex justify-start mb-4\">\n      <div className=\"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center mr-2\">\n        <span className=\"text-sm\">ðŸ¤–</span>\n      </div>\n      <div className=\"bg-muted rounded-2xl rounded-bl-sm shadow-sm px-5 py-3.5\">\n        <div className=\"flex gap-1\">\n          <div className=\"w-2 h-2 bg-primary rounded-full animate-bounce\" style={{ animationDelay: \"0ms\" }} />\n          <div className=\"w-2 h-2 bg-primary rounded-full animate-bounce\" style={{ animationDelay: \"150ms\" }} />\n          <div className=\"w-2 h-2 bg-primary rounded-full animate-bounce\" style={{ animationDelay: \"300ms\" }} />\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAee,SAAS,cAAc,EAAE,OAAO,EAAsB;IACnE,MAAM,SAAS,QAAQ,MAAM,KAAK;IAElC,qBACE,8OAAC;QAAI,WAAW,CAAC,0BAA0B,EAAE,SAAS,gBAAgB,iBAAiB;;YAEpF,CAAC,wBACA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAK,WAAU;8BAAU;;;;;;;;;;;0BAI9B,8OAAC;gBAAI,WAAW,CAAC,cAAc,EAAE,SAAS,cAAc,eAAe;;kCAErE,8OAAC;wBACC,WAAW,CAAC;;YAEV,EACE,SACI,2EACA,+DACL;;UAEH,CAAC;kCAEA,uBACC,8OAAC;4BAAI,WAAU;sCAAuB,QAAQ,OAAO;;;;;iDAErD,8OAAC,mMAAa;4BACZ,WAAU;4BACV,YAAY;gCACV,IAAI,CAAC,EAAE,QAAQ,EAAE,iBAAK,8OAAC;wCAAG,WAAU;kDAA0B;;;;;;gCAC9D,IAAI,CAAC,EAAE,QAAQ,EAAE,iBAAK,8OAAC;wCAAG,WAAU;kDAA0B;;;;;;gCAC9D,IAAI,CAAC,EAAE,QAAQ,EAAE,iBAAK,8OAAC;wCAAG,WAAU;kDAAgC;;;;;;gCACpE,QAAQ,CAAC,EAAE,QAAQ,EAAE,iBAAK,8OAAC;wCAAO,WAAU;kDAAa;;;;;;gCACzD,IAAI,CAAC,EAAE,QAAQ,EAAE,iBAAK,8OAAC;wCAAG,WAAU;kDAAU;;;;;;gCAC9C,IAAI,CAAC,EAAE,QAAQ,EAAE,iBAAK,8OAAC;wCAAG,WAAU;kDAAwC;;;;;;gCAC5E,IAAI,CAAC,EAAE,QAAQ,EAAE,iBAAK,8OAAC;wCAAG,WAAU;kDAA2C;;;;;;gCAC/E,IAAI,CAAC,EAAE,QAAQ,EAAE,iBAAK,8OAAC;wCAAG,WAAU;kDAAQ;;;;;;gCAC5C,GAAG,CAAC,EAAE,QAAQ,EAAE,iBAAK,8OAAC;wCAAE,WAAU;kDAAwB;;;;;;gCAC1D,MAAM,CAAC,EAAE,QAAQ,EAAE,iBACjB,8OAAC;wCAAK,WAAU;kDAAyD;;;;;;gCAE3E,KAAK,CAAC,EAAE,QAAQ,EAAE,iBAChB,8OAAC;wCAAI,WAAU;kDAAqD;;;;;;4BAExE;sCAEC,QAAQ,OAAO;;;;;;;;;;;kCAMtB,8OAAC;wBAAK,WAAW,CAAC,aAAa,EAAE,SAAS,oBAAoB,yBAAyB;kCACpF,QAAQ,SAAS;;;;;;;;;;;;;;;;;;AAK5B;AAEO,SAAS;IACd,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAK,WAAU;8BAAU;;;;;;;;;;;0BAE5B,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;4BAAiD,OAAO;gCAAE,gBAAgB;4BAAM;;;;;;sCAC/F,8OAAC;4BAAI,WAAU;4BAAiD,OAAO;gCAAE,gBAAgB;4BAAQ;;;;;;sCACjG,8OAAC;4BAAI,WAAU;4BAAiD,OAAO;gCAAE,gBAAgB;4BAAQ;;;;;;;;;;;;;;;;;;;;;;;AAK3G","debugId":null}},
    {"offset": {"line": 684, "column": 0}, "map": {"version":3,"sources":["file:///Users/rafifwildan/Developer/workabroadly-app/frontend/components/chat/ChatArea.tsx"],"sourcesContent":["\"use client\"\n\nimport { useRef, useEffect } from \"react\"\nimport MessageBubble, { TypingIndicator } from \"./MessageBubble\"\n\ninterface Message {\n  id: string\n  content: string\n  sender: \"user\" | \"ai\"\n  timestamp: string\n}\n\ninterface ChatAreaProps {\n  messages: Message[]\n  isTyping?: boolean\n}\n\nexport default function ChatArea({ messages, isTyping = false }: ChatAreaProps) {\n  const messagesEndRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" })\n  }, [messages, isTyping])\n\n  if (messages.length === 0 && !isTyping) {\n    return (\n      <div className=\"flex-1 flex items-center justify-center p-8 bg-card\">\n        <div className=\"text-center max-w-2xl animate-fade-in\">\n          {/* Icon */}\n          <div className=\"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto shadow-md\">\n            <span className=\"text-6xl\">ðŸ’¬</span>\n          </div>\n\n          {/* Heading */}\n          <h1 className=\"text-4xl font-bold text-foreground mt-6\">Selamat Datang!</h1>\n\n          {/* Welcome Message */}\n          <p className=\"text-lg text-primary mt-4 leading-relaxed\">\n            Tanyakan apa saja tentang persiapan bekerja di Korea dan Jepang. Saya akan membantu dengan informasi dari\n            dokumen resmi.\n          </p>\n\n          {/* Suggestion Chips */}\n          <div className=\"flex flex-wrap justify-center gap-2 mt-6\">\n            <button className=\"rounded-full bg-primary/5 text-primary px-4 py-2 text-sm cursor-pointer hover:bg-primary/10 transition-colors\">\n              Visa requirements\n            </button>\n            <button className=\"rounded-full bg-primary/5 text-primary px-4 py-2 text-sm cursor-pointer hover:bg-primary/10 transition-colors\">\n              Document checklist\n            </button>\n            <button className=\"rounded-full bg-primary/5 text-primary px-4 py-2 text-sm cursor-pointer hover:bg-primary/10 transition-colors\">\n              Interview tips\n            </button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex-1 overflow-y-auto p-6 lg:p-8 bg-card\">\n      <div className=\"max-w-4xl mx-auto\">\n        {messages.map((message) => (\n          <MessageBubble key={message.id} message={message} />\n        ))}\n        {isTyping && <TypingIndicator />}\n        <div ref={messagesEndRef} />\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAiBe,SAAS,SAAS,EAAE,QAAQ,EAAE,WAAW,KAAK,EAAiB;IAC5E,MAAM,iBAAiB,IAAA,+MAAM,EAAiB;IAE9C,IAAA,kNAAS,EAAC;QACR,eAAe,OAAO,EAAE,eAAe;YAAE,UAAU;QAAS;IAC9D,GAAG;QAAC;QAAU;KAAS;IAEvB,IAAI,SAAS,MAAM,KAAK,KAAK,CAAC,UAAU;QACtC,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAK,WAAU;sCAAW;;;;;;;;;;;kCAI7B,8OAAC;wBAAG,WAAU;kCAA0C;;;;;;kCAGxD,8OAAC;wBAAE,WAAU;kCAA4C;;;;;;kCAMzD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAO,WAAU;0CAAgH;;;;;;0CAGlI,8OAAC;gCAAO,WAAU;0CAAgH;;;;;;0CAGlI,8OAAC;gCAAO,WAAU;0CAAgH;;;;;;;;;;;;;;;;;;;;;;;IAO5I;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;gBACZ,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC,+IAAa;wBAAkB,SAAS;uBAArB,QAAQ,EAAE;;;;;gBAE/B,0BAAY,8OAAC,uJAAe;;;;;8BAC7B,8OAAC;oBAAI,KAAK;;;;;;;;;;;;;;;;;AAIlB","debugId":null}},
    {"offset": {"line": 827, "column": 0}, "map": {"version":3,"sources":["file:///Users/rafifwildan/Developer/workabroadly-app/frontend/components/chat/ChatInputBar.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, type KeyboardEvent } from \"react\"\n\ninterface ChatInputBarProps {\n  onSendMessage: (message: string) => void\n  disabled?: boolean\n  currentRole?: string\n}\n\nexport default function ChatInputBar({ onSendMessage, disabled = false, currentRole = \"default\" }: ChatInputBarProps) {\n  const [input, setInput] = useState(\"\")\n\n  const handleSend = () => {\n    if (input.trim() && !disabled) {\n      onSendMessage(input.trim())\n      setInput(\"\")\n    }\n  }\n\n  const handleKeyDown = (e: KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault()\n      handleSend()\n    }\n  }\n\n  const handleQuickMenu = (topic: string) => {\n    let message = \"\"\n    if (topic === \"career\") {\n      message = \"Saya ingin konsultasi tentang karir dan pekerjaan di luar negeri\"\n    } else if (topic === \"visa\") {\n      message = \"Saya ingin tahu tentang persyaratan visa dan dokumen\"\n    }\n    if (message) {\n      onSendMessage(message)\n    }\n  }\n\n  const isInputEmpty = input.trim().length === 0\n\n  return (\n    <div className=\"border-t border-border bg-card p-4 lg:p-6 shadow-lg\">\n      <div className=\"max-w-4xl mx-auto\">\n        {currentRole === \"default\" && (\n          <div className=\"flex gap-2 mb-3 flex-wrap\">\n            <button\n              onClick={() => handleQuickMenu(\"career\")}\n              disabled={disabled}\n              className=\"px-4 py-2 rounded-full bg-muted hover:bg-card border border-border text-sm text-foreground transition-all hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              ðŸ’¼ Konsultasi Karir\n            </button>\n            <button\n              onClick={() => handleQuickMenu(\"visa\")}\n              disabled={disabled}\n              className=\"px-4 py-2 rounded-full bg-muted hover:bg-card border border-border text-sm text-foreground transition-all hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              ðŸ“‹ Info Visa\n            </button>\n          </div>\n        )}\n\n        {/* Input Row */}\n        <div className=\"flex items-center gap-3\">\n          {/* Text Input */}\n          <textarea\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            onKeyDown={handleKeyDown}\n            placeholder=\"Tanyakan tentang bekerja di Korea atau Jepang...\"\n            disabled={disabled}\n            rows={1}\n            className=\"flex-1 rounded-full border-2 border-input bg-muted px-5 py-3 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:ring-2 focus:ring-ring focus:bg-card outline-none resize-none transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\n            style={{ minHeight: \"48px\", maxHeight: \"120px\" }}\n          />\n\n          {/* Send Button */}\n          <button\n            onClick={handleSend}\n            disabled={isInputEmpty || disabled}\n            className={`\n              w-12 h-12 rounded-full flex items-center justify-center shadow-md transition-all\n              ${\n                isInputEmpty || disabled\n                  ? \"bg-muted cursor-not-allowed\"\n                  : \"bg-primary hover:bg-primary/90 hover:shadow-lg hover:scale-105 active:scale-95 cursor-pointer\"\n              }\n            `}\n          >\n            <svg\n              className={`w-5 h-5 ${isInputEmpty || disabled ? \"text-muted-foreground\" : \"text-primary-foreground\"}`}\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\n            </svg>\n          </button>\n        </div>\n\n        {/* Helper Text */}\n        <p className=\"text-xs text-muted-foreground text-center mt-2\">\n          Tekan Enter untuk kirim, Shift + Enter untuk baris baru\n        </p>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUe,SAAS,aAAa,EAAE,aAAa,EAAE,WAAW,KAAK,EAAE,cAAc,SAAS,EAAqB;IAClH,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IAEnC,MAAM,aAAa;QACjB,IAAI,MAAM,IAAI,MAAM,CAAC,UAAU;YAC7B,cAAc,MAAM,IAAI;YACxB,SAAS;QACX;IACF;IAEA,MAAM,gBAAgB,CAAC;QACrB,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;YACpC,EAAE,cAAc;YAChB;QACF;IACF;IAEA,MAAM,kBAAkB,CAAC;QACvB,IAAI,UAAU;QACd,IAAI,UAAU,UAAU;YACtB,UAAU;QACZ,OAAO,IAAI,UAAU,QAAQ;YAC3B,UAAU;QACZ;QACA,IAAI,SAAS;YACX,cAAc;QAChB;IACF;IAEA,MAAM,eAAe,MAAM,IAAI,GAAG,MAAM,KAAK;IAE7C,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;gBACZ,gBAAgB,2BACf,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,SAAS,IAAM,gBAAgB;4BAC/B,UAAU;4BACV,WAAU;sCACX;;;;;;sCAGD,8OAAC;4BACC,SAAS,IAAM,gBAAgB;4BAC/B,UAAU;4BACV,WAAU;sCACX;;;;;;;;;;;;8BAOL,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BACC,OAAO;4BACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4BACxC,WAAW;4BACX,aAAY;4BACZ,UAAU;4BACV,MAAM;4BACN,WAAU;4BACV,OAAO;gCAAE,WAAW;gCAAQ,WAAW;4BAAQ;;;;;;sCAIjD,8OAAC;4BACC,SAAS;4BACT,UAAU,gBAAgB;4BAC1B,WAAW,CAAC;;cAEV,EACE,gBAAgB,WACZ,gCACA,gGACL;YACH,CAAC;sCAED,cAAA,8OAAC;gCACC,WAAW,CAAC,QAAQ,EAAE,gBAAgB,WAAW,0BAA0B,2BAA2B;gCACtG,MAAK;gCACL,QAAO;gCACP,SAAQ;0CAER,cAAA,8OAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAa;oCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;8BAM3E,8OAAC;oBAAE,WAAU;8BAAiD;;;;;;;;;;;;;;;;;AAMtE","debugId":null}},
    {"offset": {"line": 978, "column": 0}, "map": {"version":3,"sources":["file:///Users/rafifwildan/Developer/workabroadly-app/frontend/lib/config.ts"],"sourcesContent":["// API Configuration\nexport const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8080\"\n\nexport const API_ENDPOINTS = {\n  chat: `${API_BASE_URL}/api/chat`,\n  stripe: {\n    checkout: `${API_BASE_URL}/api/stripe/checkout`,\n    success: `${API_BASE_URL}/api/stripe/success`,\n  },\n}\n"],"names":[],"mappings":"AAAA,oBAAoB;;;;;;;AACb,MAAM,eAAe,QAAQ,GAAG,CAAC,mBAAmB,IAAI;AAExD,MAAM,gBAAgB;IAC3B,MAAM,GAAG,aAAa,SAAS,CAAC;IAChC,QAAQ;QACN,UAAU,GAAG,aAAa,oBAAoB,CAAC;QAC/C,SAAS,GAAG,aAAa,mBAAmB,CAAC;IAC/C;AACF","debugId":null}},
    {"offset": {"line": 997, "column": 0}, "map": {"version":3,"sources":["file:///Users/rafifwildan/Developer/workabroadly-app/frontend/app/career-coach/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport ChatSidebar from \"@/components/chat/ChatSidebar\"\nimport ChatArea from \"@/components/chat/ChatArea\"\nimport ChatInputBar from \"@/components/chat/ChatInputBar\"\nimport { API_ENDPOINTS } from \"@/lib/config\"\n\ninterface Message {\n  id: string\n  content: string\n  sender: \"user\" | \"ai\"\n  timestamp: string\n}\n\nexport default function CareerCoachPage() {\n  const [messages, setMessages] = useState<Message[]>([])\n  const [isTyping, setIsTyping] = useState(false)\n  const [isSidebarOpen, setIsSidebarOpen] = useState(true)\n  const [currentRole, setCurrentRole] = useState<string>(\"user\") //this was also changed from default -> user\n\n  const handleSendMessage = async (content: string) => {\n    const newMessage: Message = {\n      id: Date.now().toString(),\n      content,\n      sender: \"user\",\n      timestamp: new Date().toLocaleTimeString(\"en-US\", { hour: \"2-digit\", minute: \"2-digit\" }),\n    }\n\n    setMessages([...messages, newMessage])\n    setIsTyping(true)\n\n    try {\n      console.log(\"[v0] Sending message to API:\", { content, role: currentRole })\n\n      // Build conversation history for context\n      const conversationHistory = messages.map((msg) => ({\n        role: msg.sender === \"user\" ? \"user\" : \"assistant\",\n        content: msg.content,\n      }))\n\n      const response = await fetch(API_ENDPOINTS.chat, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          message: content,\n          role: currentRole,\n          //conversationHistory,\n        }),\n      })\n\n      console.log(\"[v0] API response status:\", response.status)\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        console.error(\"[v0] API error response:\", errorData)\n\n        const userFriendlyMessage =\n          errorData.userMessage || errorData.message || \"Terjadi kesalahan. Silakan coba lagi.\"\n\n        throw new Error(userFriendlyMessage)\n      }\n\n      const data = await response.json()\n      console.log(\"[v0] API response data:\", data)\n\n      const aiMessage: Message = {\n        id: (Date.now() + 1).toString(),\n        content: data.reply,\n        sender: \"ai\",\n        timestamp: new Date().toLocaleTimeString(\"en-US\", { hour: \"2-digit\", minute: \"2-digit\" }),\n      }\n\n      setMessages((prev) => [...prev, aiMessage])\n    } catch (error) {\n      console.error(\"[v0] Error sending message:\", error)\n      console.error(\"[v0] Error details:\", error instanceof Error ? error.message : String(error))\n\n      const errorMessage: Message = {\n        id: (Date.now() + 1).toString(),\n        content:\n          error instanceof Error ? error.message : \"âŒ Terjadi kesalahan yang tidak diketahui. Silakan coba lagi.\",\n        sender: \"ai\",\n        timestamp: new Date().toLocaleTimeString(\"en-US\", { hour: \"2-digit\", minute: \"2-digit\" }),\n      }\n      setMessages((prev) => [...prev, errorMessage])\n    } finally {\n      setIsTyping(false)\n    }\n  }\n\n  return (\n    <div className=\"h-screen flex bg-gray-50\">\n      {/* Sidebar */}\n      <ChatSidebar isOpen={isSidebarOpen} onClose={() => setIsSidebarOpen(false)} onRoleChange={setCurrentRole} />\n\n      {/* Main Chat Area */}\n      <div className=\"flex-1 flex flex-col\">\n        {/* Mobile Header with Menu Toggle */}\n        <div className=\"lg:hidden border-b border-primary-100 bg-white p-6 flex items-center gap-4\">\n          <button\n            onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n            className=\"p-2 hover:bg-teal-50 rounded-lg transition-colors\"\n          >\n            <svg className=\"w-6 h-6 text-teal-900\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n            </svg>\n          </button>\n          <h1 className=\"text-lg font-semibold text-teal-900\">AI Career Coach</h1>\n        </div>\n\n        {/* Chat Messages Area */}\n        <ChatArea messages={messages} isTyping={isTyping} />\n\n        {/* Input Bar */}\n        <ChatInputBar onSendMessage={handleSendMessage} disabled={isTyping} currentRole={currentRole} />\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}